# react VS vue

**数据处理方面**
- vue 是对数据进行的拦截处理，数据变化了多少，就出发多少更新。但是 react 本身对数据的变化毫无感知，它需要我们手动调用 setState 对数据进行更新，手动去触发更新。为了优化性能， react 会对 state 的行为进行合并操作。
因此会出现有时候 state 是异步更新，但并不总是“异步”。
这个设计的差别直接影响了 "hooks" 的实现和表现
react hook 底层是基于链表实现的，每一个 hook 的 next 指向的是下一个需要执行的 hook。每次组件被触发 render 时，都会执行所有的 hook, 因此 hook 不能在条件判断中使用，这会导致链表顺序不对，从而导致报错。
vue hook 只会在注册时调用一次，因为 vue 对数据的响应是基于响应式的。对数据做了代理。不需要对 hook 做记录。但是这种响应式的方案也会有问题，就是在定义 响应式数据时，返回的是一个对象{value: xxx}，因为无论是 Object.defineProperty 还是 Proxy, 我们都无法对基本变量进行追踪。
- 事件， react 暴露给开发者的事件不是原生事件，是 react 包装过后的合成事件，并且 react 将所有事件都绑定到了 document 上面。
vue 暴露的是原生事件
- 预编译优化， vue 在解析模版时，可以静态分析视图依赖了哪些数据，进行响应式处理，但是 react 是 局部重新渲染，